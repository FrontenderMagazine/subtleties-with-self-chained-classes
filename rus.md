# Тонкости с цепочкой одинаковых классов

Это короткая публикация переписки по электронной почте с моим клиентом, который спросил маленький совет о цепочках одинаковых классов (например `.foo.foo {}`).

Вопрос в был о количестве «ссылок» в цепочке и их взаимодействия, к числу раз когда данный класс применяется к HTML элементу.

А именно: «Приравнивается ли по специфичности `.foo.foo {}` к `class="foo foo"`,
`.foo.foo.foo {}` к `class="foo foo foo"` и так далее?»

**Клиент:**

> Привет,
>
> Надеюсь все хорошо.
>
> Я хотел бы уточнить с тобой один вопрос о CSS: Я был убежден, что текст отобразится тремя разными цветами, но это не так (они все синие) и я не могу найти никакого объяснения этому в интернете:
>
>     .column { color: red; }
>     .column.column { color: green; }
>     .column.column.column { color: blue; }
>
>
> Демо: [jsfiddle.net/otk9661u][1].
>
> Почему так происходит?

**Я:**

> Привет!
>
> Все хорошо, спасибо. Работаю в Лондоне. Как у тебя дела? Как остальные?
>
> Хмм. Это забавно! Удивлен, что все это один и тот-же селектор.
>
> `.color {}` спрашивает «Есть ли класс `color`?»
>
> `.color.color {}` не спрашивает «Есть ли два класса `color`?», он просто спрашивает тот-же вопрос дважды. В действительности он ничего не «подсчитывает» в HTML.
> Это тонкое, но, как вы выяснили, важно различие!
>
>
> Если вам нужно стилизовать элемент, основываясь на «подсчете» количества классов в вашей разметке, вы можете написать вот так:
>
>
>     [class="column"] { color: red; }
>     [class="column column"] { color: green; }
>     [class="column column column"] { color: blue; }
>
>
> Демо: [jsfiddle.net/ssj4recq][2].
>
> Это даст ожидаемое поведение, так как все три селектора будут иметь одинаковую специфичность. Вы помните, из раздела workshop, как цепочки одинаковых классов [увеличивает специфичность][3] селектора? Подобного эффекта в этом случае не будет.
>
> Так где это можно использовать? Выглядит весьма странно, если честно :P
> Естественно, я рекомендовал бы избегать такой метод.
>

Так что да. Такие цепочки класcов, в действительности, не считают количество классов в разметке. Они просто спрашивают один и тот-же вопрос несколько раз.

Если, по каким-либо причинам, вам нужно «посчитать» число классов, вам нужно будет жестко указать селектор атрибута с точным числом классов. Но такая конструкция будет весьма ненадёжна, так как пробелы это часть строки, поэтому если ваш шаблон перенесет классы на новою строку (или что-то вроде этого), то строка не совпадет с селектором. К тому же, технически мы не подсчитываем ничего: мы просто смотрим на соответствие строки.

[1]: https://jsfiddle.net/otk9661u/
[2]: https://jsfiddle.net/ssj4recq/1/
[3]: http://csswizardry.com/2014/07/hacks-for-dealing-with-specificity/
